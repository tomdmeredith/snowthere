{"id":"cb-0001","round":1,"type":"feature","name":"Foundation","status":"complete","goal":"Project structure, Next.js, Supabase schema, design system","tasks_completed":7,"arc":{"started_believing":"Need custom CMS for ski content","ended_believing":"Supabase + Next.js sufficient for MVP","transformation":"Simplicity over features for faster launch"}}
{"id":"cb-0002","round":2,"type":"feature","name":"Core Agents","status":"complete","goal":"Python agents, primitives, pipeline, MCP server","tasks_completed":9,"arc":{"started_believing":"Agents need complex orchestration frameworks","ended_believing":"Direct Python + Claude API simpler than MCP for autonomy","transformation":"Autonomous pipelines beat interactive tools for scale"}}
{"id":"cb-0003","round":3,"type":"infrastructure","name":"Security Audit","status":"complete","goal":"XSS prevention, legal pages, cookie consent, security headers","tasks_completed":6,"arc":{"started_believing":"Security can be added incrementally","ended_believing":"Legal compliance must be foundational","transformation":"GDPR/CCPA compliance shapes architecture decisions"}}
{"id":"cb-0004","round":4,"type":"feature","name":"Production Launch","status":"complete","goal":"Deploy to production, configure monitoring","tasks_completed":6,"arc":{"started_believing":"Launch when feature-complete","ended_believing":"Launch early, iterate with real traffic","transformation":"Production feedback more valuable than pre-launch polish"}}
{"id":"cb-0005","round":5,"type":"polish","name":"Compliance & Polish","status":"complete","goal":"Monitoring, accessibility, CWV, trademark, internal linking, site stabilization","tasks_completed":14,"arc":{"started_believing":"These are separate compliance checkboxes","ended_believing":"They form an integrated observability and quality layer","transformation":"From compliance tasks to quality infrastructure"}}
{"id":"cb-0006","round":"5.1","type":"infrastructure","name":"Agent-Native Scalability","status":"complete","goal":"Scale duplicate detection to 3000+ resorts","tasks_completed":10,"arc":{"started_believing":"Claude can handle lists of all 3000 resorts in context","ended_believing":"Primitives should be atomic; agents query, not receive lists","transformation":"Two-phase validation (suggest → validate) scales infinitely"}}
{"id":"cb-0007","round":"5.2","type":"infrastructure","name":"Schema Contract Audit","status":"complete","goal":"Fix schema mismatch causing 100% pipeline failure","tasks_completed":4,"arc":{"started_believing":"Schema mismatches are coding errors to fix quickly","ended_believing":"The extraction layer's ambition was correct - expand schema to match user needs","transformation":"User-first schema design - DB should serve family budgeting needs"}}
{"id":"cb-0008","round":6,"type":"feature","name":"AI Discoverability & Email System","status":"complete","goal":"AI crawler access, email system with welcome sequence, location display","tasks_completed":12,"arc":{"started_believing":"Email is a simple SMTP integration","ended_believing":"Email is a full lifecycle system: capture, confirm, sequence, comply, track","transformation":"From send email to email infrastructure with CAN-SPAM compliance"}}
{"id":"cb-0009","round":7,"type":"feature","name":"External Linking & Affiliate System","status":"complete","goal":"Google Places entity links, affiliate URL injection, GA4 click tracking, affiliate research","tasks_completed":8,"arc":{"started_believing":"Affiliate links are just URL swaps","ended_believing":"External linking is a full pipeline stage: extract entities, resolve places, inject links, track clicks","transformation":"From link insertion to entity-aware link lifecycle"}}
{"id":"cb-0010","round":8,"type":"feature","name":"Quick Takes & Site Audit","status":"complete","goal":"Editorial Verdict Model, About/Contact pages, email confirmation, quiz fixes","tasks_completed":10,"arc":{"started_believing":"Quick Takes just need a better prompt","ended_believing":"Quality requires structure (hook/context/tension/verdict), forbidden phrases, and specificity scoring","transformation":"From prompt engineering to editorial system with quality gates"}}
{"id":"cb-0011","round":9,"type":"algorithm","name":"Scoring & Pipeline Stability","status":"complete","goal":"Deterministic decimal scores, pipeline crash fixes, data extraction improvement","tasks_completed":8,"arc":{"started_believing":"LLM-generated scores were trustworthy approximations","ended_believing":"Store atoms, compute molecules - deterministic formulas from data beat LLM opinion","transformation":"From AI-generated quality score to calculated score from verifiable data"}}
{"id":"cb-0012","round":10,"type":"feature","name":"Content Structure & Email Fix","status":"complete","goal":"Guide page infrastructure, email template loading, welcome sequence fix","tasks_completed":5,"arc":{"started_believing":"Guides need a new content system","ended_believing":"The JSONB content schema was already designed - just needed frontend rendering","transformation":"From building new infrastructure to wiring existing schema to frontend"}}
{"id":"cb-0013","round":11,"type":"feature","name":"Autonomous Content Systems","status":"complete","goal":"Weekly newsletter pipeline, guide generation pipeline, exit intent popup","tasks_completed":8,"arc":{"started_believing":"Newsletter and guides need separate generation systems","ended_believing":"Both share the same primitive layer - newsletter queries DB, guides generate to DB","transformation":"Autonomous content is just primitives composed differently on a cron schedule"}}
{"id":"cb-0014","round":12,"type":"feature","name":"Content Expansion & SEO Critical Fixes","status":"complete","goal":"Olympics guides, guides workflow overhaul, canonical URL fixes, GSC/Bing indexing","tasks_completed":12,"arc":{"started_believing":"SEO is about content and Schema.org markup","ended_believing":"A single trailing newline in an env var can block all indexing - infrastructure hygiene is SEO","transformation":"From content optimization to infrastructure correctness as the foundation of discoverability"}}
{"id":"cb-0015","round":13,"type":"feature","name":"Delightful, On-Brand, Image-Rich Guide Pages","status":"complete","goal":"Guide page design overhaul, Nano Banana Pro image generation, exit intent popup redesign","tasks_completed":7,"arc":{"started_believing":"Guide pages just needed images and a few bug fixes","ended_believing":"Brand personality requires systematic design overhaul AND reliable image infrastructure — Nano Banana Pro on Replicate is the default","transformation":"From patching individual issues to establishing Spielplatz as a living design standard with autonomous image generation"}}
{"id":"cb-0016","round":"13.1","type":"infrastructure","name":"Technical SEO Audit & Indexing","status":"complete","goal":"Investigate GSC/Bing indexing gaps, fix canonical tags, configure IndexNow, request priority indexing","tasks_completed":10,"arc":{"started_believing":"Pages aren't indexed because the site is too new — just wait","ended_believing":"3 real technical issues were blocking indexing alongside normal new-site patience — missing canonicals, IndexNow key mismatch, and Bing property mismatch","transformation":"From assuming patience to systematic audit revealing fixable infrastructure gaps hidden behind normal new-site behavior"}}
{"id":"cb-0017","round":"13.2","type":"infrastructure","name":"Google Places API Fix","status":"complete","goal":"Investigate and fix Google Places API 400 errors blocking UGC photos and entity resolution","tasks_completed":5,"arc":{"started_believing":"The 400 errors were from a code bug or API quota issue","ended_believing":"The API wasn't enabled on the Google Cloud project and the Railway key was from a non-existent credential","transformation":"From debugging code to auditing cloud project configuration — infrastructure correctness strikes again"}}
{"id":"cb-0018","round":"14","type":"fix","name":"SEO & Schema Critical Fixes + Bug Fixes","status":"complete","goal":"Fix duplicate titles, unify footer, quiz page, newsletter link, Kitzbühel 404","tasks_completed":6,"arc":{"started_believing":"The audit would find many broken things to fix","ended_believing":"Most schema items were already correct; the real bugs were Unicode normalization and template duplication","transformation":"From expecting widespread schema gaps to discovering the codebase was healthier than the audit suggested"}}
{"id":"cb-0019","round":"15","type":"feature","name":"GEO & Rich Results Enhancement + Data Quality Backfill","status":"complete","goal":"WebSite/Organization schema, ItemList schema, image sitemap, data quality backfill","tasks_completed":10,"arc":{"started_believing":"Schema markup and data backfill are separate concerns","ended_believing":"They're complementary — schema makes data discoverable, backfill makes the data worth discovering","transformation":"From adding metadata about content to ensuring the content behind the metadata is substantive"}}
{"id":"cb-0020","round":"DQ","type":"algorithm","name":"Data Quality & Scoring Overhaul","status":"complete","goal":"Fix false scoring defaults, add data completeness tracking, conditional table rendering, publication quality gates","tasks_completed":12,"arc":{"started_believing":"Scores just need the right formula","ended_believing":"Scores need the right formula AND awareness of how complete the underlying data is","transformation":"From trusting all data equally to gating outputs by data quality"}}
{"id":"cb-0021","round":"16","type":"polish","name":"Error Handling & Polish","status":"complete","goal":"Custom error boundaries, loading states, resort filtering, GDPR data request, CSP tightening, comprehensive browser testing","tasks_completed":17,"arc":{"started_believing":"Error handling and polish is about adding safety nets around existing code","ended_believing":"Polish means building complete interactive experiences — filtering, loading, error recovery, and privacy rights are all user-facing quality","transformation":"From defensive code additions to cohesive user experience where every state (loading, empty, error, filtered) is intentionally designed"}}
{"id":"cb-0022","round":"LS","type":"feature","name":"Linking Strategy Overhaul","status":"complete","goal":"Context-aware entity link destinations, UTMs on in-content links, rel attribute preservation, backfill 371 entity links across 58 resorts, 5-agent expert review panel","tasks_completed":18,"arc":{"started_believing":"External linking is a flat priority chain — affiliate beats direct beats maps for everything","ended_believing":"Link destinations must match user intent by entity type: parents want to book hotels, find restaurant directions, and register for ski school","transformation":"From generic link injection to context-aware destinations that match what parents actually do with each entity type"}}
{"event":"format_migrated","timestamp":"2026-02-02T23:30:00Z","from":"v2.x_flat","to":"v3.0_events","note":"22 legacy entries above use flat format. All entries below use event-based format."}
{"id":"cb-0023","round":"PI","type":"fix","name":"Pipeline Improvements","status":"complete","goal":"Entity extraction prompt improvements, stale detection fix, light refresh mode, JSON serialization fix","tasks_completed":9,"arc":{"started_believing":"Entity extraction confidence scores were appropriate and stale detection worked correctly","ended_believing":"Conservative extraction was missing valid entities; stale detection had a bug returning N oldest instead of actually stale; full refresh is overkill for maintenance","transformation":"From accepting pipeline defaults to targeted improvements that increase link density 3x and reduce refresh costs 85%"}}
{"id":"cb-0024","round":"19","type":"feature","name":"SEO Fixes, Programmatic Pages & Country Content","status":"complete","goal":"Fix HeroSpielplatz H1 visibility, add generateStaticParams to country pages, reduce ISR to 6h, add 6 programmatic collection pages, country intro content system","tasks_completed":8,"arc":{"started_believing":"The homepage H1 was rendering correctly and country pages were properly configured","ended_believing":"Client components hide H1 from crawlers, missing generateStaticParams prevents static generation, and 12h ISR is too slow for content updates","transformation":"From trusting client-rendered content to ensuring all critical SEO elements are server-rendered and statically generated"}}
{"id":"cb-0025","round":"20","type":"feature","name":"Content Quality & Linking Overhaul","status":"complete","goal":"Strong-tag entity extraction, Skyscanner flight links, 40-65 word Quick Takes, fact-based taglines, three-layer hybrid scoring, dollar sign fallback, guide resort links, type safety, security hardening","tasks_completed":15,"arc":{"started_believing":"Content quality improvements and type safety are separate concerns","ended_believing":"Content quality, type safety, and security hardening form a single trust layer — users trust accurate content, TypeScript catches data shape bugs, sanitization prevents injection","transformation":"From treating content, types, and security as independent workstreams to a unified quality-and-trust layer where each reinforces the others"}}
{"id":"cb-0026","round":"21","type":"feature","name":"Voice Rebalancing — Wirecutter + Personality","status":"complete","goal":"Rebalance voice from Instagram mom to Morning Brew style (smart, witty, efficient), add future-casting patterns, self-contained paragraph rules, child price floor, multilingual research capability, thin content gate","tasks_completed":12,"arc":{"started_believing":"The Instagram mom voice was the right voice for family ski content","ended_believing":"A Morning Brew / Wirecutter style (smart, practical, witty) serves families better than performative enthusiasm — parents are intelligent adults doing research","transformation":"From performative encouragement to respectful intelligence — the voice shift from 'Instagram mom' to 'smart friend who respects your time'"}}
{"id":"cb-0027","round":"22","type":"feature","name":"MEO Optimization + Voice De-Mandating","status":"complete","goal":"Optimize for AI search engines (Exa, ChatGPT, Perplexity) via link-predictive titles, question-based headings, probabilistic voice guidance, anti-repetition, content freshness signals, guide voice MEO alignment","tasks_completed":7,"arc":{"started_believing":"Prescriptive voice rules (80/20 ratio, mandatory patterns per section, you/your every paragraph) produce consistent quality","ended_believing":"Prescriptive rules produce formulaic content — probabilistic personality guidance with anti-repetition lets the LLM internalize voice rather than mechanically satisfy checklists","transformation":"From mandating voice patterns to trusting the model with personality guidance, and from traditional SEO to Meaning Engine Optimization for AI citation"}}
{"id":"cb-0028","round":"23","type":"feature","name":"Content Refresh System","status":"complete","goal":"Align VoiceCoach with MEO voice, build batch content regeneration for resorts and guides, update default voice_profile params to snowthere_guide","tasks_completed":5,"arc":{"started_believing":"Content regeneration is a one-resort-at-a-time manual process","ended_believing":"Batch regeneration with voice-aligned quality gates enables systematic content refresh across the entire corpus","transformation":"From manual per-resort updates to scalable batch content refresh with consistent voice application"}}
{"id":"cb-0029","round":"24","type":"feature","name":"Style Primitive + Pricing Redesign","status":"complete","goal":"3-layer style editing (deterministic + Haiku + Sonnet), Exa pricing discovery with country-specific validation, SnowConditionsChart, coordinate fixes, 429 error handling","tasks_completed":18,"arc":{"started_believing":"Em-dashes just need a regex and pricing just needs a better prompt","ended_believing":"Em-dashes need context-aware replacement (3 layers) and pricing needs discovery + interpretation + validation as separate stages","transformation":"From single-pass solutions to multi-layer systems where each layer handles a different complexity level"}}
{"id":"cb-0030","round":"DA","type":"fix","name":"Deep Audit + GA4 Events","status":"complete","goal":"Audit 4 new resorts, fix 6 systemic pipeline bugs, upgrade to Opus 4.6, strip LLM preamble, add entity link guardrails, em-dash enforcement, calendar primitive, pricing cache fallback, GA4 custom events","tasks_completed":14,"arc":{"started_believing":"The pipeline was producing quality content at scale","ended_believing":"6 systemic bugs were silently degrading every resort — calendar never generated, coordinates missing, completeness always 0.0, titles duplicated, pricing disconnected, content truncated","transformation":"From trusting pipeline output to auditing individual resort pages, revealing systemic issues invisible in aggregate logs"}}
{"id":"cb-0031","round":"VE","type":"feature","name":"Voice Evolution: Personality-Forward Content","status":"complete","goal":"Rewrite section prompts personality-forward (70/30 perspective-to-info), 6-criteria VoiceCoach evaluation, anti-hedging in style pre-pass, varied price intros, stance commitment, Layer 3 upgraded to Opus, re-allow 'Here's the thing' sparingly","tasks_completed":8,"arc":{"started_believing":"Smart and practical voice was producing quality content","ended_believing":"Smart and practical without personality density produces content that could appear in any guide unchanged. 70/30 personality-to-info ratio, stance commitment, and varied openings create content worth screenshotting","transformation":"From respectful intelligence to personality-forward intelligence. The voice should make parents screenshot and send to their partner, not just nod approvingly"}}
